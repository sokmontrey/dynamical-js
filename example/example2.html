<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Example2</title>

    <style>
        body{
            background-color: #191c22;
        }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    <script type="module">
        //TODO:
        // - remove params entirly and use only .add .set pattern
        // - limit distance_constraint to contain only two point_mass
        // - limit container_constraint to check only the point that is passed in (container_constraint should not store any point)
        // - create a new division of constraint called "composite" constraint 
        //      - these are the type of constraint that do realtime check or only check the point passed in
        //      - this should also contain the "rectangle and circle container" constraint
        // - add is_broken to distance constraint
        // - fix the inconvinient with all of the vector argument
        // - proper getter

        import { Vector } from '../src/util/dynamical_vector.js';
        import PointMass from '../src/point_mass.js';
        import Renderer from '../src/renderer.js';
        import { Constraint } from '../src/constraint.js';
        import Composite from '../src/composite.js';

        const canvas = document.getElementById('canvas');

        const renderer = new Renderer(canvas);
        renderer.setBackground('#252323');

        const box = new Composite()
            .setContainer(Constraint.create('rectangle_container'))
            .setOffset(new Vector(250,250))
            .addPointMass('a', new Vector(0, -50))
            .addPointMass('b', new Vector(50, 0))
            .addPointMass('c', new Vector(0, +50))
            .addPointMass('d', new Vector(-50, 0))
            .connect('a', 'b')
            .connect('b', 'c')
            .connect('c', 'd')
            .connect('d', 'a')
            .connect('a', 'c')

        renderer.update((delta_time)=>{
            renderer.clear();

            box.update(delta_time);
            box.draw(renderer);
        });

    </script>
</body>
</html>
