<html>
	<head>
		<style>
			@import url('https://fonts.googleapis.com/css2?family=Fragment+Mono&display=swap');
			body{
				padding-top: 2rem;
				background-color: #012b37;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
			}
			code{
				font-family: 'Fragment Mono', monospace;
			}
			canvas{
				border-bottom: solid white 0.08rem;
			}
		</style>
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/base16/solarized-dark.min.css">
		<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
	</head>
	<body>
		<p style="
		color: white;
		font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
		">Example 1</p>

		<canvas></canvas>
		<pre><code class="language-js"></code></pre>

		<script type="module" id="script-container">
import Renderer from '../src/renderer.js';
import { Vector2 } from '../src/util/vector.js';
import PointMass from '../src/point_mass.js';
import { RigidConstraint, BoxConstraint, SpringConstraint } from '../src/constraint.js';

const canvas = document.getElementsByTagName('canvas');

const renderer = new Renderer(canvas[0]);
renderer.setBackground('#012b37');

const square = [
	new PointMass(renderer.CENTER.add(new Vector2(0, -100))),
	new PointMass(renderer.CENTER.add(new Vector2(100,0))),
	new PointMass(renderer.CENTER.add(new Vector2(0, 100))),
	new PointMass(renderer.CENTER.add(new Vector2(-100, 0))),
];
const square_structure = new RigidConstraint([...square, square[0], square[2]]);

const canvas_container = new BoxConstraint( renderer.WIDTH, renderer.HEIGHT, square);

renderer.update(({delta_time, context:c})=>{
	renderer.clear();

	for(let i=0; i<square.length; i++){
		square[i].applyForce(new Vector2(0, 9.8 * square[i].mass));
	}

	for(let i=0; i<square.length; i++){
		square[i].updatePosition(delta_time * 0.01);
	}

	square_structure.check();
	canvas_container.check();

	renderer.polygon(square, {fill:"#be471f"});
});
		</script>
		<script>
			document.getElementsByTagName('code')[0].textContent = document.getElementById('script-container').textContent;
			hljs.highlightAll();
		</script>
	</body>
</html>
