<html>
	<head>
		<style>
			body{
				padding-top: 2rem;
				background-color: #faf0ca;
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
			}
		</style>
	</head>
	<body>
		<p style="
		color: #0d3b66;
		font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;
		">Example 1</p>

		<script type="module">
			import Renderer from '../src/renderer.js';
			import { Vector2 } from '../src/util/vector.js';
			import { RigidConstraint, BoxConstraint, SpringConstraint } from '../src/constraint.js';
			import PointMass from '../src/point_mass.js';

			const canvas = document.createElement('canvas');
			document.body.appendChild(canvas);

			const renderer = new Renderer(canvas);
			renderer.setBackground('#0d3b66');

			const square = [
				new PointMass(renderer.CENTER.add(new Vector2(0, -100))),
				new PointMass(renderer.CENTER.add(new Vector2(100,0))),
				new PointMass(renderer.CENTER.add(new Vector2(0, 100))),
				new PointMass(renderer.CENTER.add(new Vector2(-100, 0))),
			];
			const square_structure = new RigidConstraint([...square, square[0], square[2]]);

			const canvas_container = new BoxConstraint( renderer.WIDTH, renderer.HEIGHT, square);

			renderer.update(({delta_time, context:c})=>{
				renderer.clear();

				for(let i=0; i<square.length; i++){
					square[i].applyForce(new Vector2(0, 9.8 * square[i].mass));
				}

				for(let i=0; i<square.length; i++){
					square[i].updatePosition(delta_time * 0.01);
				}

				square_structure.check();
				canvas_container.check();

				renderer.polygon(square, {fill:"#ee964b"});
			});
		</script>
	</body>
</html>
